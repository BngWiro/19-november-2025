:root{
  --bg1:#fff9fb; --bg2:#fff0f7; --accent:#b02764; --soft:#ffdfe9; --muted:#6b4459; --glass:rgba(255,255,255,0.94);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(160deg,var(--bg1),var(--bg2));
  color:var(--muted);
  -webkit-font-smoothing:antialiased;
}
.page{min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:16px}
.hero{width:100%;max-width:760px;background:var(--glass);border-radius:14px;padding:18px;text-align:center;box-shadow:0 10px 30px rgba(200,120,160,0.06)}
.badge{display:inline-block;background:var(--accent);color:#fff;padding:6px 12px;border-radius:999px;font-weight:600;margin-bottom:10px}
.title{font-family:'Great Vibes',cursive;font-size:36px;color:var(--accent);margin:6px 0}
.title span{font-family:inherit;font-size:14px;color:#7a4566}
.countdown-wrap{margin:10px 0}
.countdown{display:flex;justify-content:center;gap:8px;flex-wrap:wrap}
.count-box{background:var(--soft);padding:10px 14px;border-radius:12px;min-width:72px;box-shadow:inset 0 -6px rgba(255,200,230,0.05)}
.count-box span{display:block;font-weight:700;font-size:18px}
.hint{font-size:0.9rem;color:#8a536f;margin-top:8px}
.match-notice{margin-top:8px;color:#98506f;font-weight:600;opacity:0.95}

/* main stage */
.main-stage{width:100%;max-width:820px;display:flex;justify-content:center;margin-top:18px}
.cake-area{position:relative;width:100%;display:flex;flex-direction:column;align-items:center;min-height:300px}
.cake-card{background:linear-gradient(180deg,#fff,#fff7fb);padding:14px;border-radius:12px;box-shadow:0 10px 28px rgba(200,120,160,0.06);width:100%;max-width:520px;display:flex;flex-direction:column;align-items:center}
#cakeSvg{width:100%;height:auto;display:block}
.cake-text{margin-top:12px;text-align:center}
.cake-text h2{font-family:'Great Vibes',cursive;color:var(--accent);font-size:28px;margin-bottom:6px}
.cake-text p{color:#6b4459}

/* match image */
.match-img{position:fixed;right:18px;bottom:18px;z-index:120;width:86px;height:auto;touch-action:none;cursor:grab;user-select:none}
.match-img:active{cursor:grabbing}
.match-img.hidden{display:none}

/* flames */
.flame{transform-origin:center;animation:flame 360ms infinite}
@keyframes flame{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-1.6px) scale(1.04)}100%{transform:translateY(0) scale(1)}}

/* particle */
.particle{position:fixed;z-index:90;pointer-events:none;border-radius:3px}

/* dialog animation */
.dialog-wrap{position:fixed;inset:0;background:rgba(20,10,20,0.36);display:flex;align-items:center;justify-content:center;z-index:200;padding:18px;opacity:0;transform:translateY(12px);pointer-events:none;transition:opacity 360ms ease, transform 360ms cubic-bezier(.2,.9,.2,1)}
.dialog-wrap.show{opacity:1;transform:translateY(0);pointer-events:auto}
.dialog{background:#fff;border-radius:12px;max-width:520px;width:100%;padding:14px;box-shadow:0 16px 48px rgba(120,20,60,0.12);text-align:center}
.dialog h3{margin-bottom:8px;color:var(--accent)}
.dialog-body{min-height:84px;padding:10px;color:#5c3d4c}
.dialog-controls{display:flex;justify-content:space-between;gap:10px;margin-top:12px}
button.primary{background:linear-gradient(90deg,var(--accent),#ff7aa0);color:#fff;border:none;padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer}
button.ghost{background:transparent;border:1px solid #e6b6cf;padding:10px 14px;border-radius:10px;cursor:pointer}
.hidden{display:none}

/* final closing state: keep only cake + text */
.final-only .hero, .final-only .main-stage .match-img, .final-only .dialog-wrap {opacity:1}
.final-only .dialog-wrap{display:none}

/* responsive */
@media (max-width:480px){
  .title{font-size:28px}
  .match-img{width:66px}
  .count-box span{font-size:16px}
}
